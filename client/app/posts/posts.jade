div(ng-include='"components/navbar/navbar.html"')

.container
	.row
		.col-md-12
			.panel.panel-default
				.panel-heading
					//- h4 Ads in Last 24 Hours
					h4 Ad Stream Under Development
				.panel-body
					.row
						.col-md-3
							.col-md-12
								h4 Filter
								.col-md-12.custom-search-input
									input.search-query.form-control(ng-model="filterPhone" type='text', placeholder='Phone Number')
								.col-md-12.custom-search-input
									input.search-query.form-control(ng-model="filterText" type='text', placeholder='Ad Text')
							.col-md-12
								h4 Controls
								label Blur Images:
									input(type="checkbox" ng-model="blur")
								br
								br
						.col-md-3
							h4 Aggregate Statistics

							table.table.table-hover
								tbody
									tr
										td Entities
										td {{aggregates.get('entityIds').length}}
									tr
										td Ads
										td {{aggregates.get('nAds')}}
									tr
										td Pictures
										td {{aggregates.get('nPictures')}}
									tr
										td Age Range
										td {{aggregates.get('age_min')}} to {{aggregates.get('age_max')}}
									tr
										td Price Range
										td {{aggregates.get('price_min')}} to {{aggregates.get('price_max')}}

						.col-md-6
							accordion(close-others='oneAtATime')
								accordion-group(heading='Search Result Details (Click Me!)', is-disabled='status.isFirstDisabled')
									h4
									table.table.table-hover

										tbody
											tr
												td Websites
												td {{aggregates.get('websites').join(', ')}}
											tr
												td Twitter Accounts
												td {{aggregates.get('twitters').join(', ')}}
											tr
												td Instagram Accounts
												td {{aggregates.get('instagrams').join(', ')}}
											tr
												td Cities
												td {{aggregates.get('cities').join(', ') | capitalize}}
											tr
												td Names
												td {{aggregates.get('names').join(', ') | capitalize}}
											tr
												td Ethnicities
												td {{aggregates.get('ethnicities').join(', ') | capitalize}}
	.row
	//- 	.col-md-12(ng-repeat="entity in entities1 | orderBy:'-nSuggested' | filter: { phone : filterPhone, text: filterText} ")
	//- 		.panel.panel-default
	//- 			.panel-heading
	//- 				h3 {{entity.nPosts}} Ads from Base Entity {{entity.phone | tel}}
	//- 			.panel-body
	//- 				.col-md-4
	//- 					p Active since: <strong> {{entity.firstPostTime.toDateString()}} </strong>
	//- 					p(ng-if='entity.name && entity.name.length > 0') Listed names:  <strong>{{entity.name.join(', ') | capitalize}} </strong>
	//- 					p(ng-if='entity.website && entity.website.length > 0') Websites:  <strong> {{entity.website.join(', ')}}</strong>
	//- 					p(ng-if='entity.city && entity.city.length > 0') Cities:  <strong>{{entity.city.join(', ') | capitalize}}</strong>
	//- 					p(ng-if='entity.age && entity.age.length > 0') Listed ages:  <strong>{{entity.age.join(', ')}}</strong>
	//- 					p(ng-if='entity.priceRange && entity.priceRange.length > 0') Listed price range: <strong>{{entity.priceRange}} </strong>
	//- 					p(ng-if='entity.imageUrls && entity.imageUrls.length > 0')  Pictures: <strong> {{entity.imageUrls.length}}</strong>
	//- 					p Pictures with Face: <strong> {{entity.nFaces}}</strong>
	//- 					p Ads related by image: <strong> {{entity.nSuggestedByImage}}</strong>
	//- 					p  Ads related by text:<strong> {{entity.nSuggestedByText}}</strong>
	//- 					p  Ads related by phone co-occurence:  <strong> {{entity.nSuggestedByPhone}}</strong>
	//- 					a.button.btn-primary.btn-lg.pull-left(ui-sref="entitydetail({ id: entity.id })") Inspect

	//- 				.col-md-8
	//- 					.panel.panel-default
	//- 						.panel-heading
	//- 							.panel-title
	//- 								h4 Most Recent Post at {{entity.website[0]}} on {{entity.lastPostTime.toDateString()}}

	//- 						.panel-body.vertical-layout
	//- 							.item
	//- 								h4 {{entity.title[0]}}
	//- 							.item
	//- 								p
	//- 									| {{entity.text[0]}}
	//- 							.item
	//- 								.row
	//- 									.col-md-2(ng-repeat='img in entity.imageUrls | limitTo:50')
	//- 										img.responsive(ng-src="{{img}}"
	//- 											style="max-height:50px; margin:0 auto;"
	//- 											ng-class="{blurry: blur == true, clear: blur != true}")

	footer.footer
		center Designed and Developed by Qadium 2015. All code is open source.
		center About Help Terms Privacy




		
		//- .entity-search.col-md-12(ng-repeat='ad in ads | limitTo:10')
		//- 	.entity-panel.col-md-4
		//- 		.panel.panel-default
		//- 			#head2.panel-heading 
		//- 				strong
		//- 					Phone: {{ad.properties.phone | tel}}

		//- 			.panel-body
		//- 				//Below should post entity properties for the ad to its right
		//- 				//If an ad is part of two entities, then the entity column should simply //say ad contains two entities
		//- 				a.button.btn-danger.btn-lg.pull-right(ui-sref="entitydetail({ id: entity.id })") Inspect
		//- 				p Ads:
		//- 				p Images:
		//- 				p Active Since:
		//- 				p Age Range:
		//- 				p Price Range:
		//- 				p Websites:
		//- 	.entity-panel.col-md-8
		//- 		.panel.panel-default

		//- 			#head2.panel-heading {{ad.properties.sources_id}} at {{ad.properties.posttime}}
		//- 			.panel-body
		//- 				p Title: {{ad.properties.title}}
		//- 				p Text: {{ad.properties.text}}
		//- 				p: a(href='{{ad.properties.url}}') View post

		//- 				row
		//- 					col-md-3(ng-repeat='img in ad.properties.image_locations')					
		//- 						img.responsive(ng-src="{{img}}" 
		//- 							style="max-height:100px; margin:0 auto;"
		//- 							ng-class="{blurry: blur == true, clear: blur != true}")
